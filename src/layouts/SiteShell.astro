---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';

interface Props {
	title: string;
	description: string;
}

const { title, description } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>
	<body>
		<a href="#main-content" class="skip-link">Skip to main content</a>
		<div class="frame">
			<div class="scene" aria-hidden="true">
				<div class="range range-far"></div>
				<div class="range range-near"></div>
			</div>
			<div class="panel">
				<Header />
				<main class="panel-main" id="main-content">
					<slot />
				</main>
				<Footer />
			</div>
		</div>
	</body>
</html>

<style>
	.skip-link {
		position: absolute;
		top: -100%;
		left: 0.75rem;
		padding: 0.6rem 0.8rem;
		border-radius: var(--radius-sm);
		background: #ffffff;
		color: #111;
		text-decoration: none;
		z-index: 1000;
	}

	.skip-link:focus {
		top: 0.75rem;
	}

	.frame {
		position: relative;
		min-height: 100vh;
		padding: clamp(0.9rem, 2.6vw, 2.6rem);
		overflow: hidden;
	}

	.scene {
		position: absolute;
		inset: 0;
		pointer-events: none;
	}

	.range {
		position: absolute;
		left: -6%;
		right: -6%;
		bottom: -8%;
	}

	.range-far {
		height: 34%;
		background: linear-gradient(180deg, #0a7384, #095f6d);
		clip-path: polygon(
			0% 100%,
			0% 67%,
			8% 58%,
			16% 63%,
			24% 49%,
			33% 62%,
			44% 47%,
			56% 61%,
			67% 51%,
			78% 64%,
			90% 55%,
			100% 63%,
			100% 100%
		);
		opacity: 0.8;
	}

	.range-near {
		height: 24%;
		background: linear-gradient(180deg, #084e5b, #073f49);
		clip-path: polygon(
			0% 100%,
			0% 72%,
			10% 62%,
			20% 70%,
			31% 57%,
			43% 69%,
			56% 56%,
			68% 68%,
			80% 60%,
			91% 69%,
			100% 63%,
			100% 100%
		);
	}

	.panel {
		width: min(1220px, 100%);
		margin: 0 auto;
		border-radius: var(--radius-lg);
		border: 3px solid var(--panel-border);
		background: var(--panel-bg);
		box-shadow: var(--shadow-panel);
		overflow: clip;
		position: relative;
		z-index: 2;
	}

	.panel-main {
		width: min(960px, calc(100% - 1.5rem));
		margin: 0 auto;
		padding: clamp(2rem, 4.2vw, 4rem) 0 clamp(2rem, 4vw, 4rem);
	}

	@media (max-width: 720px) {
		.frame {
			padding: 0.5rem;
		}

		.panel {
			border-radius: var(--radius-md);
			border-width: 2px;
		}

		.panel-main {
			width: calc(100% - 1rem);
			padding-top: 1.25rem;
		}

		.range-far {
			height: 26%;
			opacity: 0.72;
		}

		.range-near {
			height: 18%;
		}
	}
</style>
