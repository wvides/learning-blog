---
import type { CollectionEntry } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';
import SiteShell from './SiteShell.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate } = Astro.props;
---

<SiteShell title={title} description={description}>
	<article class="post">
		<header class="post-header">
			<div class="post-date">
				<FormattedDate date={pubDate} />
				{
					updatedDate && (
						<span class="updated-on">
							Updated <FormattedDate date={updatedDate} />
						</span>
					)
				}
			</div>
			<h1>{title}</h1>
			<p>{description}</p>
		</header>
		<div class="prose">
			<slot />
		</div>
	</article>
</SiteShell>

<style>
	.post {
		max-width: 760px;
		margin: 0 auto;
	}

	.post-header {
		margin-bottom: var(--space-6);
		padding-bottom: var(--space-5);
		border-bottom: 1px solid var(--line-subtle);
	}

	.post-date {
		display: flex;
		flex-wrap: wrap;
		gap: var(--space-3);
		margin-bottom: var(--space-3);
		font-size: 0.92rem;
		color: var(--text-muted);
	}

	.updated-on {
		font-style: italic;
	}

	.post-header h1 {
		margin-bottom: var(--space-3);
	}

	.post-header p {
		margin: 0;
	}

	.prose :global(p) {
		margin-bottom: var(--space-5);
	}
</style>
